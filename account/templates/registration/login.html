<!-- login.html -->
{% extends 'base.html' %}
{% load static %}

{% block static %}
    <!-- 외부 CSS 파일에 대한 링크 -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
    }
    
    .modal-content {
        background-color: #fefefe;
        margin: 10% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
    }
    
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }
    
    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
</style>

<!--main
: 제목 h3
: hr br br-->
<div id="main" class="container">
    <hr><br><br>

    <!-- Form -->
    <div class="col align-center">
        <div class="inner">
            <h3>Login</h3>
            <br>
            <form method="post" action="#">
                <div class="row uniform">
                    {% csrf_token %}
                    <table>
                        {{ form.as_table }}
                    </table>
                </div>
                <a href="#" id="showAgreementModal">회원이 아니신가요?</a>
                <a href="{% url 'account:password_reset' %}">비밀번호 찾기</a>
                <br><br>
                <ul class="actions">
                    <li><input type="submit" value="Login"></li>
                </ul>
            </form>
        </div>
    </div>

    <div id="agreementModal" class="modal">
        <div class="modal-content">
            {% include 'registration/agreement.html' %}
        </div>
    </div>


</div>



<!-- 모달 스크립트 -->
<script>
    // Get the modal
    var agreementModal = document.getElementById('agreementModal');

    // Get the button that opens the modal
    var showAgreementModalBtn = document.getElementById('showAgreementModal');

    // When the user clicks the button, open the modal
    showAgreementModalBtn.onclick = function () {
        // Disable scrolling when the modal is open
        document.body.style.overflow = 'hidden';
        agreementModal.style.display = 'block';
        

        // 이 부분을 추가합니다.
        initializeAgreementModal();
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == agreementModal) {
            // Enable scrolling when the modal is closed
            document.body.style.overflow = 'auto';
            agreementModal.style.display = 'none';
        }
    }
</script>

{% endblock %}
