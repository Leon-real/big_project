<!-- post_detail.html -->
{% extends 'base.html' %}
{% load static %}

{% block static %}
    <!-- 외부 CSS 파일에 대한 링크 -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<!--main-->
<div id="main" class="container">
    <hr>
    <br><br>

    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>

    <a href="/post/">Back to Post List</a>
    <a href="{% url 'post:post_delete' pk=post.pk %}">Delete Post</a>
    <a href="{% url 'post:post_edit' pk=post.pk %}">Edit Post</a>

    <br>
    <h4>댓글 쓰기</h4>
    {% if user.is_authenticated == True %}
        <form action="{% url 'post:comment' post.id %}" method="POST" class="content_form">
            {% csrf_token %}
            <div class="form_community_detail"></div>
            <textarea class="form-content" name="content"></textarea>
            <input type="submit" value="작성" class="btn btn-outline-secondary btn-sm" id="comment_submit">
        </form>
    {% endif %}

    <span class="comment_list">댓글 목록</span>

    {% for comment in post.comment_set.all %}
        <div class="container">
            <div class="card" id="contain2">
                <div class="card-body">
                    <i class="fas fa-user-circle" id="peopleicon"></i>
                    <p2 class="writer"> {{ comment.user }}</p2>
                    <br>
                    <p2 class="coment_content"> {{ comment.content }}</p2>
                    <br>
                    <p2 class="coment_update"> {{ comment.updated }} </p2>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
